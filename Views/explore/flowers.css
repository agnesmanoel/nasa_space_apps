/* Camada já definida em explore.css:
   .fx-layer { position:absolute; inset:0 auto 0 0; width:3000px; height:100vh; z-index:2; } */

:root{
  --flower-min: 56px;   /* tamanho mínimo das flores */
  --flower-max: 120px;  /* tamanho máximo das flores */

  /* tokens do vidro para o modal */
  --glass-bg: rgba(255,255,255,0.10);
  --glass-brd: rgba(255,255,255,0.20);
  --text: #e6e6e6;
  --muted: #b9c0cc;
  --shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
}

/* ========== FLORES ========== */
.flower{
  position: absolute;
  transform-origin: 50% 100%;
  will-change: transform;
  transition: transform .22s ease, filter .22s ease;
  pointer-events: auto;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
}
.flower img{
  display: block;
  width: 100%;
  height: auto;
  user-select: none;
  pointer-events: none;
}

/* balanço leve */
@keyframes sway {
  0%   { transform: rotate(-1.2deg); }
  50%  { transform: rotate(1.2deg); }
  100% { transform: rotate(-1.2deg); }
}
.flower.is-swaying{ animation: sway 3.5s ease-in-out infinite; }

/* interação */
.flower:hover{
  transform: translateY(-4px) scale(1.06) var(--tilt, rotate(0deg));
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.32));
}

/* clique → pulinho */
@keyframes pop {
  0% { transform: translateY(0) scale(1); }
  40%{ transform: translateY(-10px) scale(1.08); }
  100%{ transform: translateY(0) scale(1); }
}
.flower.is-pop{ animation: pop .35s ease; }

/* ========== MODAL GLASS ========== */
/* backdrop ocupa a tela mas deixa “janela” pro HUD no rodapé por não cobrir */
.flower-modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(2px);
  z-index: 4;
}
/* caixa do modal — topo central, sem invadir HUD (altura limitada) */
.flower-modal{
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);       /* CENTRADO NA TELA */
  width: min(96vw, 980px);                /* mais largo, como a ref */
  max-height: min(88vh, 720px);
  padding: 16px;
  border-radius: 22px;
  border: 1px solid var(--glass-brd);
  background: var(--glass-bg);
  color: var(--text);
  box-shadow: var(--shadow);
  backdrop-filter: saturate(130%) blur(12px);
  z-index: 5;
  overflow: hidden;
}

/* Layout interno: mídia à esquerda, texto à direita (imagem centralizada) */
.flower-modal-content{
  display: grid;
  grid-template-columns: minmax(300px, 360px) 1fr; /* coluna da imagem um tiquinho maior */
  gap: clamp(14px, 2vw, 24px);
  align-items: center;              /* centra VERTICAL a mídia */
  justify-items: stretch;
  min-height: 0;
}
/* No mobile empilha e centraliza tudo bonitinho */
@media (max-width: 820px){
  .flower-modal-content{
    grid-template-columns: 1fr;
    justify-items: center;          /* centra HORIZONTAL a mídia */
    align-items: start;
  }
}

/* Caixinha da mídia — centralizada na coluna e com largura estável */
.flower-modal-media{
  width: clamp(260px, 32vw, 360px);
  aspect-ratio: 1 / 1;
  margin-inline: auto;              /* centra horizontalmente */
  place-self: center;               /* garante centro na grid */
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.22);
  background: rgba(255,255,255,.08);
  overflow: hidden;
  display: grid; place-items: center;
}
.flower-modal-media img{
  max-width: 100%;
  max-height: 100%;
  object-fit: cover;
  display: block;
}

/* Texto */
/* Texto continua alinhado ao topo da coluna da direita */
.flower-modal-body{
  align-self: start;                /* não “desce” junto com a mídia */
  overflow: auto;
  padding-right: 4px;
}
.flower-modal-body h3{
  margin: 4px 0 10px;
  font-weight: 800;
  font-size: clamp(20px, 3.2vw, 28px);
  letter-spacing: .2px;
}
.flower-bullets{
  margin: 0;
  padding-left: 1.2rem;
  display: grid;
  gap: .55rem;
  color: var(--text);
}
.flower-bullets li{ line-height: 1.35; }
.flower-bullets em{ opacity: .9; }

/* Botão de fechar — sem borda preta, ainda numa caixinha glass */
.flower-modal-close{
  position: absolute;
  top: 10px; right: 10px;
  width: 36px; height: 36px;
  display: grid; place-items: center;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.32);   /* nada de borda preta */
  background: rgba(255,255,255,.16);
  color: #fff;
  font-size: 20px; line-height: 1;
  cursor: pointer;
  backdrop-filter: saturate(120%) blur(4px);
  box-shadow: none;                           /* remove anel escuro */
  outline: none;
}
.flower-modal-close:hover{ background: rgba(255,255,255,.22); }
.flower-modal-close:focus,
.flower-modal-close:focus-visible{
  outline: none;                              /* sem aro preto do foco */
  box-shadow: 0 0 0 2px rgba(255,255,255,.35);/* aro sutil acessível */
}

